<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>عنوان الصفحة</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f4;
      direction: rtl; /* تغيير اتجاه النص إلى اليمين */
      text-align: right; /* محاذاة النص إلى اليمين */
    }
    h2, h3 {
      color: #333;
    }
    form {
      background-color: #fff;
      padding: 20px;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      max-width: 600px;
      margin: 20px auto;
    }
    input, select, textarea {
      display: block;
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }
    input[type="submit"] {
      background-color: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.3s ease;
    }
    input[type="submit"]:hover {
      background-color: #45a049;
      transform: scale(1.05);
    }
    input[type="submit"]:active {
      transform: scale(0.95);
    }
    input[readonly] {
      background-color: #f9f9f9;
      cursor: not-allowed;
    }
    .product-container {
      background-color: #fff;
      padding: 20px;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      max-width: 600px;
      margin: 20px auto;
      text-align: center;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    .product-container.fade-in-active {
      opacity: 1;
      transform: translateY(0);
    }
    .product-images img {
      max-width: 100%;
      border-radius: 5px;
      transition: transform 0.3s ease-in-out;
    }
    .product-images img:hover {
      transform: scale(1.05);
    }
    input:focus, select:focus, textarea:focus {
      border-color: #4CAF50;
      box-shadow: 0 0 5px rgba(0, 255, 0, 0.3);
      outline: none;
    }

    /* استعلامات الوسائط لتجاوب الصفحة */
    @media (max-width: 768px) {
      form {
        padding: 15px;
      }
      .product-container {
        padding: 15px;
      }
    }

    @media (max-width: 480px) {
      form {
        padding: 10px;
      }
      .product-container {
        padding: 10px;
      }
      input, select, textarea {
        padding: 8px;
      }
    }
  </style>
  <script>
    window.onload = function() {
      var now = new Date();
      var todayDate = now.toISOString().split('T')[0];
      var time = now.toTimeString().split(' ')[0];

      document.getElementById('date').value = todayDate;
      document.getElementById('time').value = time;
      
      // تعيين سعر التوصيل بناءً على المدينة
      document.getElementById('city').addEventListener('change', function() {
        updateDeliveryCost();
      });

      // تحديث إجمالي السعر عند تغيير الكمية
      document.getElementById('quantity').addEventListener('input', function() {
        updateTotal();
      });

      // تعيين الكمية الافتراضية إلى 1 وتحديث الإجمالي عند تحميل الصفحة
      document.getElementById('quantity').value = 1;
      updateTotal();

      // إضافة تأثيرات متحركة عند تحميل الصفحة
      document.querySelector('.product-container').classList.add('fade-in-active');
    };

    function updateDeliveryCost() {
      var city = document.getElementById('city').value;
      var deliveryCost = (city === 'الجزائر') ? 500 : 700;
      document.getElementById('deliveryCost').value = deliveryCost;

      // تحديث إجمالي السعر بعد تغيير تكلفة التوصيل
      updateTotal();
    }

    function updateTotal() {
      var productPrice = 1500; // سعر المنتج الثابت
      var quantity = parseInt(document.getElementById('quantity').value) || 0;
      var deliveryCost = parseFloat(document.getElementById('deliveryCost').value) || 0;
      var total = (productPrice * quantity) + deliveryCost;
      document.getElementById('total').value = total;
    }

    function handleSubmit(event) {
      event.preventDefault();  // منع الإرسال الافتراضي للنموذج

      var form = event.target;
      var formData = new FormData(form);
      formData.append('time', document.getElementById('time').value);

      fetch(form.action, {
        method: 'POST',
        body: new URLSearchParams(formData).toString(),
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded'
        }
      })
      .then(response => {
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        return response.text();
      })
      .then(data => {
        console.log('البيانات المستلمة:', data);
        alert("تم إرسال البيانات بنجاح!");  // عرض رسالة تأكيد
        form.reset();  // إعادة تعيين النموذج
        // إعادة تعيين التاريخ وسعر التوصيل
        window.onload();
      })
      .catch(error => {
        console.error('خطأ:', error);
        alert("حدث خطأ أثناء إرسال البيانات. يرجى المحاولة مرة أخرى.");
      });
    }
  </script>
  <!-- إضافة علامات وصفية للصورة -->
  <meta property="og:title" content="عنوان الصفحة">
  <meta property="og:description" content="وصف موجز عن الصفحة أو المنتج.">
  <meta property="og:image" content="URL_TO_YOUR_IMAGE">
  <meta property="og:url" content="URL_OF_YOUR_PAGE">
  <meta property="og:type" content="website">
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="عنوان الصفحة">
  <meta name="twitter:description" content="وصف موجز عن الصفحة أو المنتج.">
  <meta name="twitter:image" content="URL_TO_YOUR_IMAGE">
  <meta name="twitter:url" content="URL_OF_YOUR_PAGE">
</head>
<body>
  <div class="product-container">
    <div class="product-images">
      <img src="images/imagesss.png"  /> 
      <img src="images/t-shirt.png"  /> 
    </div>
    <div class="product-description">
      <h3>وصف المنتج</h3>
      <p>هذا هو وصف المنتج. يمكنك إضافة مزيد من المعلومات هنا حول المنتج وما يقدمه.</p>
    </div>
  </div>
  
  <form action="https://script.google.com/macros/s/AKfycbzeiCZQwePWhza1kUzy8nDx6DMQ3bNEiJkXX1r7HKMqCMvRaeitoQEFeJ3Z4OF-XX5e/exec" method="post" onsubmit="handleSubmit(event)">
    <label for="date"></label>
    <input type="hidden" id="date" name="date" readonly>

    <label for="time"></label>
    <input type="hidden" id="time" name="time" readonly>

    <label for="clientName">الاسم و اللقب</label>
    <input type="text" id="clientName" name="clientName" required>

    <label for="phoneNumber">رقم الهاتف</label>
    <input type="text" id="phoneNumber" name="phoneNumber" required>
    
    <label for="city">المدينة</label>
    <select id="city" name="city" required>
      <option value="">اختر المدينة</option>
      <option value="الجزائر">الجزائر</option>
      <option value="وهران">وهران</option>
      <option value="قسنطينة">قسنطينة</option>
      <!-- أضف المدن الأخرى هنا -->
    </select>

    <label for="address">العنوان</label>
    <input type="text" id="address" name="address" required>

    <label for="quantity">الكمية</label>
    <input type="number" id="quantity" name="quantity" min="1" required>

    <label for="deliveryCost">تكلفة التوصيل</label>
    <input type="text" id="deliveryCost" name="deliveryCost" readonly>

    <label for="total">الإجمالي</label>
    <input type="text" id="total" name="total" readonly>

    <input type="submit" value="إرسال">
  </form>
</body>
</html>
